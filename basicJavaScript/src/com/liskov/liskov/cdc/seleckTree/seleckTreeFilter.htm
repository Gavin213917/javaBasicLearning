<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>jQuery MultiSelect Widget Demo</title>

<link rel="stylesheet" type="text/css" href="css/jquery.multiselect.css" />
<link rel="stylesheet" type="text/css" href="css/jquery.multiselect.filter.css" />
<link rel="stylesheet" type="text/css" href="css/style.css" />
<link rel="stylesheet" type="text/css" href="css/prettify.css" />
<link rel="stylesheet" type="text/css" href="css/jquery-ui.css" />

<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/jquery-ui.min.js"></script>
<script type="text/javascript" src="js/jquery.multiselect.js"></script>
<script type="text/javascript" src="js/jquery.multiselect.filter.js"></script>
<script type="text/javascript" src="js/prettify.js"></script>

<script type="text/javascript">
function onValue(){
	var val = $("#sx").val();
	chanage();
	//$("#sx").multiselect("refresh");

	alert('SeleckValue: '+val);
	$("#sx").find('option').each(function(i) {
		alert($(this).val()+'  '+$(this).html());
		$(this).attr("selected",true);
	})
	$("#sx").multiselect("refresh");
}
</script>

</head>
<body >

<h2>Filter Plugin</h2>
<form style="margin:20px 0">
	<p>
		<select id="sx" name="sx" multiple="multiple" style="width:265px">
			<option value="0">红色</option>
			<option value="1" selected="true">Green</option>
			<option value="2">Blue</option>
		</select>
		<input type="button" value="取值" onclick="onValue();">
	</p>
	<p>
		<!--
		<select multiple="multiple" style="width:265px">
		<optgroup label="test">
			<option value="red">Red</option>
			<option value="green">Green</option>
			<option value="blue">Blue</option>
		</optgroup>
		<optgroup label="foo">
			<option value="orange">Orange</option>
			<option value="purple">Purple</option>
			<option value="yellow">Yellow</option>
			<option value="brown">Brown</option>
			<option value="black">Black</option>
		</optgroup>
		</select>
		-->
	</p>
</form>

<script type="text/javascript">
$(document).ready(function(){
	chanage();
	$("#sx").multiselect().multiselectfilter();
});

function chanage(){
	var len = $("#sx").find('option').length;
	//$("#sx").html("");
	for(var i=len;i<len+2;i++){
		$("#sx").append('<option value="'+i+'" >op'+i+'</option>'); //selected="true"
	}
}
</script>

</body>
</html>
